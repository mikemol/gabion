[dataflow]
exclude = ["in", ".venv", ".git"]
fail_on_type_ambiguities = true
type_audit = true
deadline_roots = [
  "gabion.lsp_client.run_command",
  "gabion.server.execute_command",
]

[synthesis]
merge_overlap_threshold = 0.75

[decision]
tier1 = [
  "src/gabion/analysis/dataflow_audit.py:862:16",
  "src/gabion/analysis/dataflow_audit.py:3442:5",
  "src/gabion/analysis/type_fingerprints.py:101:17",
  "src/gabion/analysis/type_fingerprints.py:565:5",
  "src/gabion/analysis/type_fingerprints.py:635:35",
  "src/gabion/analysis/type_fingerprints.py:635:60",
  "src/gabion/analysis/visitors.py:90:20",
  "src/gabion/cli.py:393:5",
  "src/gabion/cli.py:394:5",
  "src/gabion/cli.py:435:5",
  "src/gabion/synthesis/merge.py:6:14",
  "src/gabion/synthesis/merge.py:6:30",
  "src/gabion/synthesis/schedule.py:60:15",
]
tier2 = []
tier3 = [
  "src/gabion/tooling/governance_audit.py:113:29",
  "src/gabion/tooling/governance_audit.py:674:22",
  "src/gabion/tooling/governance_audit.py:700:28",
  "src/gabion/tooling/governance_audit.py:723:27",
  "src/gabion/analysis/dataflow_audit.py:122:23",
  "src/gabion/analysis/dataflow_audit.py:122:44",
  "src/gabion/analysis/dataflow_audit.py:132:49",
  "src/gabion/analysis/dataflow_audit.py:2880:17",
  "src/gabion/analysis/schema_audit.py:143:33",
  "src/gabion/analysis/schema_audit.py:152:38",
  "src/gabion/analysis/schema_audit.py:161:25",
  "src/gabion/analysis/schema_audit.py:168:31",
  "src/gabion/analysis/type_fingerprints.py:115:29",
  "src/gabion/analysis/type_fingerprints.py:132:29",
  "src/gabion/analysis/type_fingerprints.py:772:5",
  "src/gabion/analysis/type_fingerprints.py:788:21",
  "src/gabion/analysis/type_fingerprints.py:788:29",
  "src/gabion/analysis/type_fingerprints.py:794:42",
  "src/gabion/analysis/type_fingerprints.py:800:32",
  "src/gabion/analysis/type_fingerprints.py:800:40",
  "src/gabion/analysis/visitors.py:290:28",
  "src/gabion/analysis/visitors.py:334:31",
  "src/gabion/analysis/visitors.py:35:32",
  "src/gabion/analysis/visitors.py:368:26",
  "src/gabion/analysis/visitors.py:420:31",
  "src/gabion/analysis/visitors.py:460:31",
  "src/gabion/cli.py:397:5",
  "src/gabion/refactor/engine.py:14:40",
  "src/gabion/refactor/engine.py:838:51",
  "src/gabion/server.py:152:41",
  "src/gabion/server.py:549:43",
  "src/gabion/server.py:606:22",
  "src/gabion/server.py:606:42",
  "src/gabion/server.py:650:48",
  "src/gabion/server.py:669:49",
  "src/gabion/server.py:697:47",
  "src/gabion/server.py:737:14",
  "src/gabion/server.py:746:14",
]
ignore_params = []

[consolidation]
min_functions = 3
min_files = 2
max_examples = 5
require_forest = true

[exceptions]
never = [
  "NeverRaise",
  "gabion.NeverRaise",
  "gabion.exceptions.NeverRaise",
  "NeverThrown",
  "gabion.NeverThrown",
  "gabion.exceptions.NeverThrown",
]

[fingerprints]
synth_min_occurrences = 2
synth_version = "synth@1"
synth_registry_path = "artifacts/audit_snapshots/LATEST/fingerprint_synth.json"
cli_snapshot_diff_request = ["gabion.cli.SnapshotDiffRequest"]
cli_dataflow_filter_bundle = ["gabion.cli.DataflowFilterBundle"]
analysis_decision_snapshot_surfaces = ["gabion.analysis.dataflow_audit.DecisionSnapshotSurfaces"]
analysis_structure_snapshot_diff_request = ["gabion.analysis.dataflow_audit.StructureSnapshotDiffRequest"]
