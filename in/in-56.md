---
doc_revision: 1
reader_reintern: "Reader-only: re-intern if doc_revision changed since you last read this doc."
doc_id: in_56
doc_role: in_step
doc_scope:
  - repo
  - tests
  - execution
  - tooling
doc_authority: normative
doc_owner: maintainer
doc_requires:
  - POLICY_SEED.md#policy_seed
  - glossary.md#contract
  - CONTRIBUTING.md#contributing_contract
  - README.md#repo_contract
  - AGENTS.md#agent_obligations
  - in/in-28.md#in_in_28
  - in/in-54.md#in_in_54
  - in/in-55.md#in_in_55
doc_reviewed_as_of:
  POLICY_SEED.md#policy_seed: 48
  glossary.md#contract: 43
  CONTRIBUTING.md#contributing_contract: 107
  README.md#repo_contract: 76
  AGENTS.md#agent_obligations: 25
  in/in-28.md#in_in_28: 8
  in/in-54.md#in_in_54: 1
  in/in-55.md#in_in_55: 1
doc_review_notes:
  POLICY_SEED.md#policy_seed: "Reviewed rev48; graded execution is deterministic and policy-gated."
  glossary.md#contract: "Reviewed rev43; execution grades are modeled as explicit semantic decision surfaces."
  CONTRIBUTING.md#contributing_contract: "Reviewed rev107; execution routing outputs are reviewable and ratchet-friendly."
  README.md#repo_contract: "Reviewed rev76; graded execution is tooling behavior, not user-facing semantics expansion."
  AGENTS.md#agent_obligations: "Reviewed rev25; dual-sensor discipline aligns with coarse-to-fine escalation."
  in/in-28.md#in_in_28: "Template obligations and section ordering are preserved."
  in/in-54.md#in_in_54: "Consumes quotient classes and profile declarations."
  in/in-55.md#in_in_55: "Consumes assignment and representative artifacts."
doc_change_protocol: POLICY_SEED.md#change_protocol
doc_erasure:
  - formatting
  - typos
doc_sections:
  in_in_56: 1
---

<a id="in_in_56"></a>
# in/in-56.md
## Graded Execution Strategy for Quotient Classes

### Purpose
Define deterministic coarse-to-fine test execution over quotient classes for fast detection and precise triangulation.

### Non-goals
- This step does not redefine quotient equivalence.
- This step does not replace local debugging workflows.
- This step does not waive governance or ratchet constraints.

---

## Status
- **This step installs:** grade semantics (`G0`, `G1`, `G2`) and trigger routing contracts.
- **This step depends on:** class assignments and representative sets from `in-55`.
- **This step unblocks:** governance metrics and promotion decisions (`in-57`, `in-58`).
- **Failure mode if absent:** either too many tests run always or failures lack localization resolution.

---

## Definitions
- **G0 (sentinel):** minimal broad tests for early failure detection.
- **G1 (partition):** class-localizing tests run after G0 failure.
- **G2 (triangulation):** high-specificity tests for invariant-level diagnosis.
- **Failure signature:** normalized summary of failing G0/G1 outcomes.
- **Route plan:** deterministic mapping from signature to follow-up test subset.

---

## Face / Kit / Solver

### Face (Obligations)
- **F56-1:** Grade boundaries and trigger criteria shall be explicit and deterministic.
- **F56-2:** Routing from signature to follow-up set shall be reproducible.
- **F56-3:** Fan-out shall be bounded by explicit budget policy.
- **F56-4:** Routing telemetry shall be captured for refinement feedback.

### Kit (Existing machinery)
- Quotient class contracts from `in-54`.
- Assignment and representative outputs from `in-55`.
- Existing CI execution surfaces and reporting channels.

### Solver (Implementation plan)
1. Construct sentinel `G0` basis from basis candidates.
2. Define signature normalization and routing map to `G1`/`G2`.
3. Apply budget constraints with deterministic ordering.
4. Persist telemetry for precision/recall refinement.

---

## Artifact Contract

### Required artifacts
#### `out/graded_trigger_map.json`
- **Schema:** signature pattern, candidate classes, follow-up test IDs
- **Determinism:** route ordering and tie-break rules fixed

#### `out/graded_execution_budget_profile.json`
- **Schema:** per-profile fan-out limits, timeout budgets, escalation rules
- **Determinism:** profile versioned and hash-addressable

#### `out/graded_route_telemetry.json`
- **Schema:** observed signatures, selected routes, localization outcomes
- **Determinism:** event format stable, timestamps out-of-band for comparisons

### Provenance
- Route artifacts must be replayable from the same assignment inputs.
- Telemetry is used to refine mappings, not to mutate policy silently.

---

## Admissibility
- **Admissible:** deterministic escalation under budget constraints.
- **Inadmissible:** non-deterministic routing based on ambient ordering side effects.
- **Ambiguity policy:** ambiguous signatures route to explicit ambiguity bundles.
- **Non-explosion policy:** escalation must prioritize information gain and bounded cost.

---

## Checks as Lemmas
- **Lemma L56-1:** identical signatures under same profile produce identical routes.
- **Lemma L56-2:** route fan-out never exceeds configured profile budget.
- **Lemma L56-3:** every routed follow-up test belongs to mapped candidate classes.
- **Lemma L56-4:** telemetry records are schema-valid and replay-comparable.

---

## Success Criteria
- [ ] G0 detects broad regressions with reduced baseline runtime.
- [ ] G1/G2 materially improve localization precision.
- [ ] Route decisions are deterministic under replay.
- [ ] Telemetry is ready input for governance ratchets.

---

## Failure Modes and Diagnostics
- **FM56-1:** Over-broad G0 → noisy escalation.
- **FM56-2:** Under-powered G0 → delayed detection.
- **FM56-3:** Unbounded fan-out → runtime regression.
- **FM56-4:** Poor signature design → weak triangulation quality.
